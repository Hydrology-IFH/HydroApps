"use strict";import Moveable,{VueMoveableInstance}from"vue3-moveable";const para_dict={pr:"Niederschlag",tas:"Lufttemperatur",td:"Feuchtetemperatur",rsds:"Globalstrahlung (W/mÂ²)",rh:"relative Luftfeuchtigkeit",ET:"evapotranspiration",snow:"Schnee"},period_dict={a:"Year",m:"Daily Maximum",w:"Winter",f:"Spring",s:"Summer",h:"Fall"};var plots_data=Vue.ref([]);function add_plot(stid,para,period){plots_data.value.some(el=>el.station_id==stid&&el.para==para&&el.period==period)||plots_data.value.push({station_id:stid,para:para,period:period})}const plotAreaApp=Vue.createApp({data:()=>({plots_data:plots_data}),methods:{onDrag({target:target,transform:transform}){target.style.transform=transform},onScale({target:target,drag:drag}){target.style.transform=drag.transform}},components:{Moveable:Moveable}});var plotCard=plotAreaApp.component("plot-card",{data:()=>({top:0,left:0,width:"300px",mouse_x1:0,mouse_y1:0,left1:0,top1:0,cursor:"move",moveable:{draggable:!0,throttleDrag:0,resizable:!0,throttleResize:1,keepRatio:!0,scalable:!0,throttleScale:0,rotatable:!1}}),props:["station_id","para","period"],computed:{src:function(){return`static/asgII/PNG/A4_Ann_Trends_${this.station_id}_${this.para}_${this.period}.png`},plot_key:function(){return`${this.station_id}_${this.para}_${this.period}`},para_readable:function(){return para_dict[this.para]},period_readable:function(){return period_dict[this.period]},top_px:function(){return this.top+"px"},left_px:function(){return this.left+"px"}},template:'<Movable className="moveable" v-bind:target="[\'.target\']" v-bind:draggable="true" v-bind:scalable="true" v-bind:edgeDraggable="true" @drag="onDrag" @scale="onScale"><div class="card"><img class="plot_img" v-bind:src="src"></div></Moveable>',methods:{dragMouseDown(e){(e=e||window.event).preventDefault(),this.mouse_x1=e.clientX,this.mouse_y1=e.clientY,this.left1=this.left,this.top1=this.top,document.onmouseup=this.closeDragElement,document.onmousemove=this.elementDrag},elementDrag(e){(e=e||window.event).preventDefault(),this.left=Math.max(this.left1+(e.clientX-this.mouse_x1),0),this.top=Math.max(this.top1+(e.clientY-this.mouse_y1),0)},closeDragElement(){document.onmouseup=null,document.onmousemove=null},mouseOver(e){e.offsetX<10&&e.offsetY<10?this.activateResize():this.deactivateResize()},activateResize(){this.cursor="n-resize",document.onmousedown=this.resizeMouseDown},deactivateResize(){this.cursor="move",document.onmousedown=this.dragMouseDown},resizeMouseDown(){},onDrag({target:target,transform:transform}){target.style.transform=transform},onScale({target:target,drag:drag}){target.style.transform=drag.transform}},components:{Moveable:Moveable}});plotAreaApp.mount("#plot_area");